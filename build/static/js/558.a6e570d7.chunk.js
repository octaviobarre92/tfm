"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[558],{9558:function(e,i,s){s.r(i),s.d(i,{default:function(){return C}});var t=s(1413),n=s(2791),r=s(364),a=s(4089),o=s(2964),c=s(7615),l=s(2835),d=s(7309),u=s(9214),g=s(8999),m=s(184),h=(s(3351),s(7689)),f=s(7476),p=function(e){(0,h.s0)();var i=e.showForgetPassword,s=e.hideAuthMessage,t=(e.signIn,e.token,e.loading),r=(e.redirect,e.showMessage),a=e.message,p=e.goLogin;e.allowRedirect;return(0,n.useEffect)((function(){if(r){var e=setTimeout((function(){return s()}),3e3);return function(){clearTimeout(e)}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.ww.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:r?1:0,marginBottom:r?20:0},children:(0,m.jsx)(o.Z,{type:"error",showIcon:!0,message:a})}),(0,m.jsxs)(c.Z,{layout:"vertical",name:"login-form",initialValues:{email:"octaviobarre92@gmail.com",password:"123"},onFinish:function(e){p(e)},children:[(0,m.jsx)(c.Z.Item,{name:"email",label:"Correo electr\xf3nico",rules:[{required:!0,message:"Por favor ingrese un correo electr\xf3nico"},{type:"email",message:"Ingrese un correo electr\xf3nico valido!"}],children:(0,m.jsx)(l.Z,{prefix:(0,m.jsx)(u.Z,{className:"text-primary"})})}),(0,m.jsx)(c.Z.Item,{name:"password",label:(0,m.jsx)("div",{className:"".concat(i?"d-flex justify-content-between w-100 align-items-center":""),children:(0,m.jsx)("span",{children:"Contrase\xf1a"})}),rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a"}],children:(0,m.jsx)(l.Z.Password,{prefix:(0,m.jsx)(g.Z,{className:"text-primary"})})}),(0,m.jsx)(c.Z.Item,{children:(0,m.jsx)(d.ZP,{type:"primary",htmlType:"submit",block:!0,loading:t,children:"Iniciar sesi\xf3n"})})]})]})};p.defaultProps={otherSignIn:!0,showForgetPassword:!1};var x=(0,r.$j)((function(e){var i=e.auth,s=e.Login,t=i.loading,n=i.message,r=i.showMessage,a=i.redirect;return{loading:t,message:n,showMessage:r,token:s.token,redirect:a}}),(function(e){return{goLogin:function(i){var s=i.email,t=i.password;e(a.Nw.login(s,t,(function(){})))}}}))(p),j=s(6106),v=s(914),y=s(4378),w=s(6090),Z=s(1532),b=s(8944),k=(0,r.$j)((function(e){return{dataUser:a.wl.getDataUser(e),token:a.wl.getToken(e),reintentos:a.wl.getReintentos(e)}}),(function(e){return{goDashboard:function(i){e(a.Nw.updateToken(i,JSON.parse(atob(i))))},validateSecurity:function(i,s){e(a.Nw.validateImage(i,s))},validateImageSuccess:function(i,s){e(a.Nw.validateImageSuccess(i,s))},resetLogin:function(){e(a.Nw.resetLogin())}}}))((function(e,i){var s=e.dataUser,t=e.token,r=e.goDashboard,a=e.validateImageSuccess,c=e.validateSecurity,l=e.reintentos,u=e.resetLogin,g=(0,h.s0)();(0,n.useEffect)((function(){l>=3&&w.Z.open({message:"Lo sentimos!",description:"Excedistes la cantidad de reintentos, tu usuario esta bloqueado, comunicate con el administrador, para que desbloquee el usuario",icon:(0,m.jsx)(Z.Z,{style:{color:"red"}})})}),[l]);var f=function(e){s&&(s.IMG_SECURITY===e?(a(t,0),r(t),localStorage.setItem("auth_token",t),w.Z.open({message:"Credenciales correctas",description:"Bienvenido a la plataforma de asistencia!",icon:(0,m.jsx)(b.Z,{style:{color:"#108ee9"}})}),g("/app/dashboards/default")):(w.Z.open({message:"Error de validaci\xf3n",description:"La imagen de seguridad seleccionada es incorrecta, si excedes de los 3 reintentos, tu usuario se bloqueara!!!!",icon:(0,m.jsx)(Z.Z,{style:{color:"red"}})}),c(t,l)))};return(0,m.jsxs)(m.Fragment,{children:[l>=3?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Z,{children:(0,m.jsx)(v.Z,{children:(0,m.jsx)(o.Z,{type:"error",description:"Usuario bloqueado, por exceder el limite de reintentos."})})})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{children:(0,m.jsxs)(v.Z,{style:{display:"contents"},children:[(0,m.jsx)("div",{onClick:function(){f(1)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://static.vecteezy.com/system/resources/previews/013/452/430/original/illustration-of-tree-free-png.png"})}),(0,m.jsx)("div",{onClick:function(){f(2)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://i.pinimg.com/originals/06/49/66/06496628fa77e5980783eba02524204f.png"})}),(0,m.jsx)("div",{onClick:function(){f(3)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://images.vexels.me/media/users/3/140072/isolated/preview/02bac95a04a65600a095ae5948d87756-dog-cartoon.png"})}),(0,m.jsx)("div",{onClick:function(){f(4)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://images.vexels.com/media/users/3/182678/isolated/preview/7ea4faa0bcd9705ce266e7769d01318d-barco-dibujado-a-mano.png"})}),(0,m.jsx)("div",{onClick:function(){f(5)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://static.vecteezy.com/system/resources/previews/011/651/357/original/doodle-freehand-sketch-drawing-of-flower-free-png.png"})}),(0,m.jsx)("div",{onClick:function(){f(6)},className:"container_image_security",children:(0,m.jsx)("img",{width:50,height:"auto",src:"https://cdn-icons-png.freepik.com/512/2038/2038263.png"})})]})}),(0,m.jsx)(j.Z,{children:(0,m.jsx)(v.Z,{children:(0,m.jsx)(o.Z,{type:"error",description:"Te quedan "+(3-l)+" de 3, tu usuario sera bloqueado si no seleccionas la imagen correcta por 2 veces"})})})]}),(0,m.jsx)("br",{}),(0,m.jsx)(j.Z,{style:{alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(v.Z,{style:{alignItems:"center"},children:(0,m.jsx)(d.ZP,{type:"primary",onClick:function(){u()},children:"Cambiar de usuario"})})})]})})),N={backgroundImage:"url(/img/others/img-17.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},C=(0,r.$j)((function(e){return{verifyToken:a.wl.getVerifyLogin(e),reintentos:a.wl.getReintentos(e)}}),(function(e){return{}}))((function(e,i){var s=e.verifyToken,n=e.reintentos;return(0,m.jsx)("div",{className:"h-100",style:N,children:(0,m.jsx)("div",{className:"container d-flex flex-column justify-content-center h-100",children:(0,m.jsx)(j.Z,{justify:"center",children:(0,m.jsx)(v.Z,{xs:20,sm:20,md:20,lg:7,children:(0,m.jsx)(y.Z,{children:(0,m.jsxs)("div",{className:"my-4",children:[(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("img",{className:"img-fluid mb-3",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtSrRAVrKONcgIJrw-y6PveCP_m5LVJ-BnqykeUGJxAg&s",width:100,height:"auto",alt:""}),!s&&(0,m.jsx)(o.Z,{description:"Ingresa tu credencial otorgada por la instituci\xf3n, si no tienes un usuario, pide uno en secretaria."}),s&&n<3&&(0,m.jsx)(o.Z,{description:"Por medidas de seguridad vamos a validar tu identidad con tu imagen de seguridad registrada. Por favor, selecciona tu imagen, tienes solo 2 reintentos caso contrario se bloqueara tu usuario."})]}),(0,m.jsx)(j.Z,{justify:"center",children:(0,m.jsxs)(v.Z,{xs:24,sm:24,md:24,lg:20,children:[!s&&(0,m.jsx)(x,(0,t.Z)({},i)),s&&(0,m.jsx)(k,(0,t.Z)({},i))]})})]})})})})})})}))},8944:function(e,i,s){s.d(i,{Z:function(){return c}});var t=s(1413),n=s(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},a=s(4291),o=function(e,i){return n.createElement(a.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:i,icon:r}))};o.displayName="CheckCircleOutlined";var c=n.forwardRef(o)},1532:function(e,i,s){s.d(i,{Z:function(){return c}});var t=s(1413),n=s(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},a=s(4291),o=function(e,i){return n.createElement(a.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:i,icon:r}))};o.displayName="CloseCircleOutlined";var c=n.forwardRef(o)}}]);
//# sourceMappingURL=558.a6e570d7.chunk.js.map
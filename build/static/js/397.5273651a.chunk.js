"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[397],{9558:function(e,t,i){i.r(t),i.d(t,{default:function(){return C}});var n=i(1413),r=i(2791),s=i(364),a=i(4089),c=i(2964),o=i(7615),l=i(2835),d=i(7309),u=i(9214),m=i(8999),g=i(184),h=(i(3351),i(7689)),f=i(7476),p=function(e){(0,h.s0)();var t=e.showForgetPassword,i=e.hideAuthMessage,n=(e.signIn,e.token,e.loading),s=(e.redirect,e.showMessage),a=e.message,p=e.goLogin;e.allowRedirect;return(0,r.useEffect)((function(){if(s){var e=setTimeout((function(){return i()}),3e3);return function(){clearTimeout(e)}}})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.ww.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:s?1:0,marginBottom:s?20:0},children:(0,g.jsx)(c.Z,{type:"error",showIcon:!0,message:a})}),(0,g.jsxs)(o.Z,{layout:"vertical",name:"login-form",initialValues:{email:"",password:""},onFinish:function(e){p(e)},children:[(0,g.jsx)(o.Z.Item,{name:"email",label:"Correo electr\xf3nico",rules:[{required:!0,message:"Por favor ingrese un correo electr\xf3nico"},{type:"email",message:"Ingrese un correo electr\xf3nico valido!"}],children:(0,g.jsx)(l.Z,{prefix:(0,g.jsx)(u.Z,{className:"text-primary"})})}),(0,g.jsx)(o.Z.Item,{name:"password",label:(0,g.jsx)("div",{className:"".concat(t?"d-flex justify-content-between w-100 align-items-center":""),children:(0,g.jsx)("span",{children:"Contrase\xf1a"})}),rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a"}],children:(0,g.jsx)(l.Z.Password,{prefix:(0,g.jsx)(m.Z,{className:"text-primary"})})}),(0,g.jsx)(o.Z.Item,{children:(0,g.jsx)(d.ZP,{type:"primary",htmlType:"submit",block:!0,loading:n,children:"Iniciar sesi\xf3n"})})]})]})};p.defaultProps={otherSignIn:!0,showForgetPassword:!1};var x=(0,s.$j)((function(e){var t=e.auth,i=e.Login,n=t.loading,r=t.message,s=t.showMessage,a=t.redirect;return{loading:n,message:r,showMessage:s,token:i.token,redirect:a}}),(function(e){return{goLogin:function(t){var i=t.email,n=t.password;e(a.Nw.login(i,n,(function(){})))}}}))(p),v=i(6106),j=i(914),Z=i(4378),w=i(6090),y=i(1532),b=i(8944),k=(0,s.$j)((function(e){return{dataUser:a.wl.getDataUser(e),token:a.wl.getToken(e),reintentos:a.wl.getReintentos(e)}}),(function(e){return{goDashboard:function(t){e(a.Nw.updateToken(t,JSON.parse(atob(t))))},validateSecurity:function(t,i){e(a.Nw.validateImage(t,i))},validateImageSuccess:function(t,i){e(a.Nw.validateImageSuccess(t,i))},resetLogin:function(){e(a.Nw.resetLogin())}}}))((function(e,t){var i=e.dataUser,n=e.token,s=e.goDashboard,a=e.validateImageSuccess,o=e.validateSecurity,l=e.reintentos,u=e.resetLogin,m=(0,h.s0)();(0,r.useEffect)((function(){l>=3&&w.Z.open({message:"Lo sentimos!",description:"Excedistes la cantidad de reintentos, tu usuario esta bloqueado, comunicate con el administrador, para que desbloquee el usuario",icon:(0,g.jsx)(y.Z,{style:{color:"red"}})})}),[l]);var f=function(e){i&&(i.IMG_SECURITY===e?(a(n,0),s(n),localStorage.setItem("auth_token",n),w.Z.open({message:"Credenciales correctas",description:"Bienvenido a la plataforma de asistencia!",icon:(0,g.jsx)(b.Z,{style:{color:"#108ee9"}})}),m("/app/report")):(w.Z.open({message:"Error de validaci\xf3n",description:"La imagen de seguridad seleccionada es incorrecta, si excedes de los 3 reintentos, tu usuario se bloqueara!!!!",icon:(0,g.jsx)(y.Z,{style:{color:"red"}})}),o(n,l)))};return(0,g.jsxs)(g.Fragment,{children:[l>=3?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(v.Z,{children:(0,g.jsx)(j.Z,{children:(0,g.jsx)(c.Z,{type:"error",description:"Usuario bloqueado, por exceder el limite de reintentos."})})})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{children:(0,g.jsxs)(j.Z,{style:{display:"contents"},children:[(0,g.jsx)("div",{onClick:function(){f(1)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://static.vecteezy.com/system/resources/previews/013/452/430/original/illustration-of-tree-free-png.png"})}),(0,g.jsx)("div",{onClick:function(){f(2)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://i.pinimg.com/originals/06/49/66/06496628fa77e5980783eba02524204f.png"})}),(0,g.jsx)("div",{onClick:function(){f(3)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://images.vexels.me/media/users/3/140072/isolated/preview/02bac95a04a65600a095ae5948d87756-dog-cartoon.png"})}),(0,g.jsx)("div",{onClick:function(){f(4)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://images.vexels.com/media/users/3/182678/isolated/preview/7ea4faa0bcd9705ce266e7769d01318d-barco-dibujado-a-mano.png"})}),(0,g.jsx)("div",{onClick:function(){f(5)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://static.vecteezy.com/system/resources/previews/011/651/357/original/doodle-freehand-sketch-drawing-of-flower-free-png.png"})}),(0,g.jsx)("div",{onClick:function(){f(6)},className:"container_image_security",children:(0,g.jsx)("img",{width:50,height:"auto",src:"https://cdn-icons-png.freepik.com/512/2038/2038263.png"})})]})}),(0,g.jsx)(v.Z,{children:(0,g.jsx)(j.Z,{children:(0,g.jsx)(c.Z,{type:"error",description:"Te quedan "+(3-l)+" de 3, tu usuario sera bloqueado si no seleccionas la imagen correcta por 2 veces"})})})]}),(0,g.jsx)("br",{}),(0,g.jsx)(v.Z,{style:{alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(j.Z,{style:{alignItems:"center"},children:(0,g.jsx)(d.ZP,{type:"primary",onClick:function(){u()},children:"Cambiar de usuario"})})})]})})),N={backgroundImage:"url(/img/others/img-17.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},C=(0,s.$j)((function(e){return{verifyToken:a.wl.getVerifyLogin(e),reintentos:a.wl.getReintentos(e)}}),(function(e){return{}}))((function(e,t){var i=e.verifyToken,r=e.reintentos;return(0,g.jsx)("div",{className:"h-100",style:N,children:(0,g.jsx)("div",{className:"container d-flex flex-column justify-content-center h-100",children:(0,g.jsx)(v.Z,{justify:"center",children:(0,g.jsx)(j.Z,{xs:20,sm:20,md:20,lg:7,children:(0,g.jsx)(Z.Z,{children:(0,g.jsxs)("div",{className:"my-4",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("img",{className:"img-fluid mb-3",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtSrRAVrKONcgIJrw-y6PveCP_m5LVJ-BnqykeUGJxAg&s",width:100,height:"auto",alt:""}),!i&&(0,g.jsx)(c.Z,{description:"Ingresa tu credencial otorgada por la instituci\xf3n, si no tienes un usuario, pide uno en secretaria."}),i&&r<3&&(0,g.jsx)(c.Z,{description:"Por medidas de seguridad vamos a validar tu identidad con tu imagen de seguridad registrada. Por favor, selecciona tu imagen, tienes solo 2 reintentos caso contrario se bloqueara tu usuario."})]}),(0,g.jsx)(v.Z,{justify:"center",children:(0,g.jsxs)(j.Z,{xs:24,sm:24,md:24,lg:20,children:[!i&&(0,g.jsx)(x,(0,n.Z)({},t)),i&&(0,g.jsx)(k,(0,n.Z)({},t))]})})]})})})})})})}))},8944:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(1413),r=i(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},a=i(4291),c=function(e,t){return r.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};c.displayName="CheckCircleOutlined";var o=r.forwardRef(c)},1532:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(1413),r=i(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},a=i(4291),c=function(e,t){return r.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};c.displayName="CloseCircleOutlined";var o=r.forwardRef(c)},8999:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(1413),r=i(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},a=i(4291),c=function(e,t){return r.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};c.displayName="LockOutlined";var o=r.forwardRef(c)},9214:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(1413),r=i(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},a=i(4291),c=function(e,t){return r.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};c.displayName="MailOutlined";var o=r.forwardRef(c)},9019:function(e,t,i){function n(e){return Object.keys(e).reduce((function(t,i){return!i.startsWith("data-")&&!i.startsWith("aria-")&&"role"!==i||i.startsWith("data-__")||(t[i]=e[i]),t}),{})}i.d(t,{Z:function(){return n}})},914:function(e,t,i){var n=i(9752);t.Z=n.Z}}]);
//# sourceMappingURL=397.5273651a.chunk.js.map